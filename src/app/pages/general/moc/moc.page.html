<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons (click)="backHome()" class="ion-margin-start" slot="start">
            <ion-icon size="large" color="light" name="arrow-back-outline"></ion-icon>
        </ion-buttons>
        <ion-title color="light">{{ 'MOC.HEADER' | translate }}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-progress-bar *ngIf="isFetching" type="indeterminate"></ion-progress-bar>
    <div class="main-container">
        <ion-card *ngIf="moc">
            <ion-card-content>
                <ion-row>
                    <strong>{{ 'MOC.REGISTRATION_ID' | translate }} :</strong>
                    <div class="ion-margin-start">{{ moc.mocNumber }}</div>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.REGISTRATION_DATE' | translate }} :</strong>
                    <div class="ion-margin-start">{{ moment(moc.notedDate).format('DD-MM-YYYY') }}</div>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.CAPITAL_REGISTRATION' | translate }} :</strong>
                    <div class="ion-margin-start">{{ moc.capital | number }} áŸ›</div>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.TYPE' | translate }} :</strong>
                    <div class="ion-margin-start">{{ 'COMPANY_TYPE.' + companyType[moc.companyType] | translate }}</div>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.ANNUAL_SUBMISSION_DATE' | translate }} :</strong>
                    <div class="ion-margin-start">{{ moment(moc.annualTranscriptMaintenanceDate).format('DD-MM-YYYY') }}</div>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.USERNAME' | translate }} :</strong>
                    <div class="ion-margin-start">{{ moc.mocUsernameLogin }}</div>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.PASSWORD' | translate }} :</strong>
                    <div class="ion-margin-start">{{ moc.mocPasswordLogin }}</div>
                </ion-row>
            </ion-card-content>
        </ion-card>
        <!-- loading -->
        <ion-card *ngIf="!moc">
            <ion-card-content>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.REGISTRATION_ID' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 35%"></ion-skeleton-text>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.REGISTRATION_DATE' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 60%"></ion-skeleton-text>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.CAPITAL_REGISTRATION' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 50%"></ion-skeleton-text>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.TYPE' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 70%"></ion-skeleton-text>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.ANNUAL_SUBMISSION_DATE' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 40%"></ion-skeleton-text>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.USERNAME' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 40%"></ion-skeleton-text>
                </ion-row>
                <ion-row class="ion-margin-top">
                    <strong>{{ 'MOC.PASSWORD' | translate }} :</strong>
                    <ion-skeleton-text class="ion-margin-start" animated style="width: 40%"></ion-skeleton-text>
                </ion-row>
            </ion-card-content>
        </ion-card>
        <!-- PDF section  -->
        <div class="pdf-file" *ngIf="docs">
            <strong>{{ 'DOC.DOWNLOAD_PDF' | translate }} :</strong>
            <div *ngIf="docs && !isFetching">
                <ion-card *ngIf="docs.moc_certificate" class="doc-card">
                    <ion-row>
                        <ion-col size="3">
                            <ion-icon (click)="onClickDownload(docs.moc_certificate, 'moc_certificate')" color="primary"
                                class="pdf-icon" name="document-attach">
                            </ion-icon>
                        </ion-col>
                        <ion-col>
                            <p>1. {{ 'DOC.MOC_CERTIFICATE' | translate }}</p>
                        </ion-col>
                        <ion-col size="2">
                            <ion-icon (click)="onClickDownload(docs.moc_certificate, 'moc_certificate')" color="primary"
                                size="large" name="download" mode="md">
                            </ion-icon>
                        </ion-col>
                    </ion-row>
                </ion-card>
                <ion-card *ngIf="docs.business_extract" class="doc-card">
                    <ion-row>
                        <ion-col size="3">
                            <ion-icon (click)="onClickDownload(docs.business_extract, 'business_extract')"
                                color="primary" class="pdf-icon" name="document-attach">
                            </ion-icon>
                        </ion-col>
                        <ion-col>
                            <p>2. {{ 'DOC.BUSINESS_EXTRACT' | translate }}</p>
                        </ion-col>
                        <ion-col size="2">
                            <ion-icon (click)="onClickDownload(docs.business_extract, 'business_extract')"
                                color="primary" size="large" name="download" mode="md">
                            </ion-icon>
                        </ion-col>
                    </ion-row>
                </ion-card>
            </div>
        </div>
    </div>
</ion-content>